<h2 class="text-center mt-4">📦 All Orders</h2>

{{#each allOrders}}
<div class="card mb-3 shadow-sm">
  <div class="card-body">
    <h5 class="card-title">👤 {{user.name}} ({{user.email}})</h5>
    <p><strong>Location:</strong> {{location}}</p>
    
    <!-- 🌍 Embedded Google Map -->
    <div class="mb-3">
      <iframe
        width="100%"
        height="250"
        frameborder="0"
        style="border:0; border-radius: 10px;"
        referrerpolicy="no-referrer-when-downgrade"
        src="https://www.google.com/maps?q={{encodeURI location}}&output=embed"
        allowfullscreen>
      </iframe>
    </div>

    <p><strong>Order Date:</strong> {{formatDate date}}</p>
    <p><strong>Status:</strong> <span class="badge bg-warning">{{status}}</span></p>

    <ul class="list-group mb-2">
      {{#each products}}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <!-- Product Image -->
        <div class="d-flex align-items-center">
          {{#if image}}
            <img src="{{image}}" alt="{{name}}" class="img-fluid" style="width: 50px; height: 50px; object-fit: cover; margin-right: 10px;">
          {{else}}
            <span class="badge bg-secondary" style="width: 50px; height: 50px; display: inline-block; margin-right: 10px;">No Image</span>
          {{/if}}
          {{name}} × {{quantity}}
        </div>
        <span>₹{{price}}</span>
      </li>
      {{/each}}
    </ul>

    <h6 class="text-end">💰 Total: ₹{{totalAmount}}</h6>
  </div>
</div>
{{/each}}

{{#unless allOrders.length}}
<div class="text-center mt-5">
  <div class="d-flex flex-column align-items-center">
    <img src="/images/empty-orders.png" alt="No Orders" style="width: 150px; opacity: 0.7;" class="mb-3">
    <h4 class="text-muted">Oops! No orders found.</h4>
    <p class="text-secondary">You haven't placed any orders yet. Start shopping now and your orders will appear here!</p>
    <a href="/shop" class="btn btn-primary mt-3">
      🛒 Start Shopping
    </a>
  </div>
</div>
{{/unless}}

